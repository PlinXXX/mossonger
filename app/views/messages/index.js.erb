$("#messages").prepend(`<%= render @msgs.reverse %>`);
if (<%= @msg_pagy.next.nil? %>) {
    $("#more-msgs-link").addClass('disabled');
    $('#more-msgs-link').html('No more messages to fetch');
} else {
    $("#more-msgs-link").attr("href", `<%= conversation_messages_path(@conversation, msgs_page: @msg_pagy.next) %>`);
}
$chat_body = $('.chat-body:first');
$chat_body.scrollTop($chat_body.get(0).scrollHeight, -1).niceScroll({
    cursorcolor: "#424242", // change cursor color in hex
    cursoropacitymin: 0, // change opacity when cursor is inactive (scrollabar "hidden" state), range from 1 to 0
    cursoropacitymax: 1, // change opacity when cursor is active (scrollabar "visible" state), range from 1 to 0
    cursorwidth: "5px", // cursor width in pixel (you can also write "5px")
    cursorborder: "1px solid #fff", // css definition for cursor border
    cursorborderradius: "5px", // border radius in pixel for cursor
    scrollspeed: 100, // scrolling speed
    mousescrollstep: 100 // scrolling speed with mouse wheel (pixel)
}).resize();